import sys
import scrabble

def main():

    if len(sys.argv) < 2:
        print("Usage: scrabble.py [RACK]")
        sys.exit(1)
    rack_input = list(sys.argv[1].lower())

    def valid_word(word):
        # Make a copy of the rack for every new word, so we can manipulate it
        # without compromising the original rack.
        rack = rack_input[:]
        for letter in word:
            if letter in rack:
                rack.remove(letter)
            else:
                return False
        return True

    def get_score(word):
        score = 0
        for letter in word:
            score += scrabble.scores[letter]
        return score

    answers = []
    for word in scrabble.wordlist:
        if valid_word(word):
            answers.append([get_score(word), word])

    answers.sort()

    for answer in answers:
        print("{} {}".format(answer[0], answer[1]))

if __name__ == '__main__':
    main()
